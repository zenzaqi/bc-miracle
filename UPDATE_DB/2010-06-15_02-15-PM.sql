CREATE OR REPLACE VIEW `miracledb`.`vu_detail_terima_produk` AS select `miracledb`.`master_terima_beli`.`terima_order` AS `terima_order`,`miracledb`.`master_terima_beli`.`terima_supplier` AS `terima_supplier`,`miracledb`.`master_terima_beli`.`terima_pengirim` AS `terima_pengirim`,`miracledb`.`master_terima_beli`.`terima_tanggal` AS `terima_tanggal`,`miracledb`.`detail_terima_beli`.`dterima_master` AS `dterima_master`,`miracledb`.`detail_terima_beli`.`dterima_produk` AS `dterima_produk`,`vu_produk`.`produk_kode` AS `produk_kode`,`vu_produk`.`produk_nama` AS `produk_nama`,`vu_produk`.`group_nama` AS `group_nama`,`vu_produk`.`jenis_nama` AS `jenis_nama`,`vu_produk`.`kategori2_nama` AS `kategori2_nama`,`miracledb`.`satuan`.`satuan_kode` AS `satuan_kode`,`miracledb`.`satuan`.`satuan_nama` AS `satuan_nama`,`miracledb`.`detail_terima_beli`.`dterima_jumlah` AS `dterima_jumlah`,`miracledb`.`detail_terima_beli`.`dterima_id` AS `dterima_id`,`miracledb`.`detail_terima_beli`.`dterima_satuan` AS `dterima_satuan`,`miracledb`.`supplier`.`supplier_id` AS `supplier_id`,`miracledb`.`master_terima_beli`.`terima_no` AS `terima_no`,`miracledb`.`supplier`.`supplier_akun` AS `supplier_akun`,`vu_produk`.`produk_id` AS `produk_id`,`miracledb`.`detail_order_beli`.`dorder_jumlah` AS `jumlah_order`,`miracledb`.`detail_order_beli`.`dorder_harga` AS `harga_satuan`,`miracledb`.`detail_order_beli`.`dorder_diskon` AS `diskon`,(`miracledb`.`detail_order_beli`.`dorder_harga` * `miracledb`.`detail_terima_beli`.`dterima_jumlah`) AS `total_nilai`,(((`miracledb`.`detail_order_beli`.`dorder_harga` * `miracledb`.`detail_order_beli`.`dorder_diskon`) * `miracledb`.`detail_terima_beli`.`dterima_jumlah`) / 100) AS `diskon_nilai`,(((`miracledb`.`detail_order_beli`.`dorder_harga` * `miracledb`.`detail_terima_beli`.`dterima_jumlah`) * (100 - `miracledb`.`detail_order_beli`.`dorder_diskon`)) / 100) AS `subtotal`,`miracledb`.`supplier`.`supplier_kategori` AS `supplier_kategori`,`miracledb`.`supplier`.`supplier_nama` AS `supplier_nama`,`miracledb`.`supplier`.`supplier_alamat` AS `supplier_alamat`,`miracledb`.`satuan`.`satuan_id` AS `satuan_id`,`miracledb`.`supplier`.`supplier_kota` AS `supplier_kota` from ((((((`miracledb`.`detail_terima_beli` join `miracledb`.`master_terima_beli` on((`miracledb`.`detail_terima_beli`.`dterima_master` = `miracledb`.`master_terima_beli`.`terima_id`))) join `miracledb`.`vu_produk` on((`vu_produk`.`produk_id` = `miracledb`.`detail_terima_beli`.`dterima_produk`))) join `miracledb`.`satuan` on((`miracledb`.`detail_terima_beli`.`dterima_satuan` = `miracledb`.`satuan`.`satuan_id`))) left join `miracledb`.`master_order_beli` on((`miracledb`.`master_terima_beli`.`terima_order` = `miracledb`.`master_order_beli`.`order_id`))) left join `miracledb`.`detail_order_beli` on(((`miracledb`.`detail_order_beli`.`dorder_master` = `miracledb`.`master_order_beli`.`order_id`) and (`miracledb`.`detail_order_beli`.`dorder_produk` = `miracledb`.`detail_terima_beli`.`dterima_produk`)))) join `miracledb`.`supplier` on((`miracledb`.`master_terima_beli`.`terima_supplier` = `miracledb`.`supplier`.`supplier_id`)));
